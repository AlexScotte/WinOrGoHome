<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=
    , initial-scale=1.0">
    <title>Win or go home !</title>
    <link rel="stylesheet" href="app/scss/style.css"/>
</head>
<body>
    
    <h1>Win or go home !</h1>

    <select id="cbox_sports">
        <option value="">--- SELECT ---</option>
     </select>

     <p id="msg" style="width: 300px;"></p>

    <script type="module">

        import * as ApiManager from "./app/js/api-manager.js"

        var cbox = document.getElementById('cbox_sports');

        window.addEventListener('load', async function() {

            let sports = await ApiManager.GetAllSports();
            let option;
            for (let i = 0; i < sports.length; i++) {

                option = document.createElement('option');
                option.text = sports[i].group;
                option.value = sports[i].title;
                option.value2 = sports[i].description;
                cbox.add(option);
            }
        });

        cbox.onchange = async function show(event) {

                if(event == null)
                    return;

            var msg = document.getElementById('msg');
            msg.innerHTML = 'Selected Bird: <b>' + cbox.options[cbox.selectedIndex].value +' - '+ cbox.options[cbox.selectedIndex].value2 +'</b> </br>' +
                'ID: <b>' + cbox.options[cbox.selectedIndex].text + '</b>';
        };

    </script>

</body>
</html>